(function(i,a){var f=a.documentElement,d="Fluid_Color_Scheme",A="--color-mode",S="data-user-color-scheme",p="data-default-color-scheme",C="#color-toggle-btn",u="#color-toggle-icon",k="iframe";function L(e,t){try{localStorage.setItem(e,t)}catch{}}function E(e){try{localStorage.removeItem(e)}catch{}}function v(e){try{return localStorage.getItem(e)}catch{return null}}function q(){var e=f.getAttribute(p);return typeof e=="string"?e.replace(/["'\s]/g,""):null}function b(){var e=getComputedStyle(f).getPropertyValue(A);return typeof e=="string"?e.replace(/["'\s]/g,""):null}function y(){f.setAttribute(S,h()),E(d)}var c={dark:!0,light:!0};function h(){var e=q();if(c[e]||(e=b(),c[e]))return e;var t=new Date().getHours();return t>=18||t>=0&&t<=6?"dark":"light"}function m(e){var t=e||v(d)||h();if(t===h())y();else if(c[t])f.setAttribute(S,t);else{y();return}T(t),F(t),M(t)}var n={dark:"light",light:"dark"};function g(e){return"icon-"+e}function I(){var e=v(d);if(c[e])e=n[e];else if(e===null){var t=a.querySelector(u);t&&(e=t.getAttribute("data")),(!t||!c[e])&&(e=n[b()])}else return;return L(d,e),e}function T(e){if(c[e]){var t=g("dark");e&&(t=g(e));var r=a.querySelector(u);if(r?(r.setAttribute("class","iconfont "+t),r.setAttribute("data",n[e])):Fluid.utils.waitElementLoaded(u,function(){var l=a.querySelector(u);l&&(l.setAttribute("class","iconfont "+t),l.setAttribute("data",n[e]))}),a.documentElement.getAttribute("data-user-color-scheme")){var o=getComputedStyle(a.documentElement).getPropertyValue("--navbar-bg-color").trim();a.querySelector('meta[name="theme-color"]').setAttribute("content",o)}}}function F(e){var t=a.getElementById("highlight-css"),r=a.getElementById("highlight-css-dark");e==="dark"?(r&&r.removeAttribute("disabled"),t&&t.setAttribute("disabled","")):(t&&t.removeAttribute("disabled"),r&&r.setAttribute("disabled","")),setTimeout(function(){a.querySelectorAll(".markdown-body pre").forEach(o=>{var l=Fluid.utils.getBackgroundLightness(o)>=0?"code-widget-light":"code-widget-dark",s=o.querySelector(".code-widget-light, .code-widget-dark");s&&(s.classList.remove("code-widget-light","code-widget-dark"),s.classList.add(l))})},200)}function M(e){i.REMARK42&&i.REMARK42.changeTheme(e),i.CUSDIS&&i.CUSDIS.setTheme(e);var t=a.querySelector(".utterances-frame");if(t){var r=e==="dark"?i.UtterancesThemeDark:i.UtterancesThemeLight;const s={type:"set-theme",theme:r};t.contentWindow.postMessage(s,"https://utteranc.es")}var o=a.querySelector("iframe.giscus-frame");if(o){var l=e==="dark"?i.GiscusThemeDark:i.GiscusThemeLight;const s={setConfig:{theme:l}};o.contentWindow.postMessage({giscus:s},"https://giscus.app")}}m(),Fluid.utils.waitElementLoaded(u,function(){m();var e=a.querySelector(C);if(e){e.addEventListener("click",function(){m(I())});var t=a.querySelector(u);t&&(e.addEventListener("mouseenter",function(){var r=t.getAttribute("data");t.classList.replace(g(n[r]),g(r))}),e.addEventListener("mouseleave",function(){var r=t.getAttribute("data");t.classList.replace(g(r),g(n[r]))}))}}),Fluid.utils.waitElementLoaded(k,function(){m()})})(window,document);
